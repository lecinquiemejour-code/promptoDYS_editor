{"ast":null,"code":"/**\n * Gestionnaire pour le systÃ¨me de fichiers PromptoDYS\n * GÃ¨re l'organisation des documents et images dans une structure cohÃ©rente\n */\n\n/**\n * VÃ©rifie si la File System Access API est disponible\n */\nexport const isFileSystemAccessSupported = () => {\n  return typeof window !== 'undefined' && 'showDirectoryPicker' in window;\n};\n\n/**\n * GÃ©nÃ¨re un nom de dossier basÃ© sur un timestamp\n * Format: Document_YYYYMMDD_HHMM\n */\nexport const generateTimestampFolderName = () => {\n  const now = new Date();\n  const year = now.getFullYear();\n  const month = String(now.getMonth() + 1).padStart(2, '0');\n  const day = String(now.getDate()).padStart(2, '0');\n  const hours = String(now.getHours()).padStart(2, '0');\n  const minutes = String(now.getMinutes()).padStart(2, '0');\n  return `Document_${year}${month}${day}_${hours}${minutes}`;\n};\n\n/**\n * GÃ©nÃ¨re un nom de fichier image unique avec timestamp\n */\nexport const generateImageFileName = (originalName, extension) => {\n  const now = new Date();\n  const timestamp = now.getFullYear().toString() + String(now.getMonth() + 1).padStart(2, '0') + String(now.getDate()).padStart(2, '0') + '_' + String(now.getHours()).padStart(2, '0') + String(now.getMinutes()).padStart(2, '0') + String(now.getSeconds()).padStart(2, '0');\n  const baseName = originalName.replace(/\\.[^/.]+$/, \"\") || 'image';\n  return `${baseName}_${timestamp}.${extension}`;\n};\n\n/**\n * Ã‰tat global du rÃ©pertoire de travail actuel\n */\nlet currentProjectDirectory = null;\nlet currentProjectName = null;\n\n/**\n * DÃ©finit le rÃ©pertoire de projet actuel\n */\nexport const setCurrentProject = (directoryHandle, projectName) => {\n  currentProjectDirectory = directoryHandle;\n  currentProjectName = projectName;\n\n  // Sauvegarder dans localStorage pour persistance\n  if (projectName) {\n    localStorage.setItem('currentPromptoDysProject', projectName);\n  }\n};\n\n/**\n * RÃ©cupÃ¨re le rÃ©pertoire de projet actuel\n */\nexport const getCurrentProject = () => {\n  return {\n    directory: currentProjectDirectory,\n    name: currentProjectName\n  };\n};\n\n/**\n * Initialise automatiquement le workspace PromptoDYS\n * Demande Ã  l'utilisateur de sÃ©lectionner/crÃ©er le dossier PromptoDYS une seule fois\n */\nexport const initializePromptoDysWorkspace = async () => {\n  if (!isFileSystemAccessSupported()) {\n    throw new Error('File System Access API non supportÃ©e');\n  }\n  try {\n    // Tenter de restaurer le workspace depuis localStorage\n    const savedWorkspace = localStorage.getItem('promptoDysWorkspaceHandle');\n    if (savedWorkspace && currentProjectDirectory) {\n      console.log('âœ… Workspace PromptoDYS restaurÃ© depuis localStorage');\n      return currentProjectDirectory;\n    }\n\n    // Demander Ã  l'utilisateur de sÃ©lectionner/crÃ©er le dossier PromptoDYS\n    console.log('ðŸ—‚ï¸ SÃ©lection du dossier PromptoDYS...');\n    const promptoDysHandle = await window.showDirectoryPicker({\n      mode: 'readwrite',\n      startIn: 'documents'\n    });\n\n    // CrÃ©er immÃ©diatement un nouveau projet timestampÃ©\n    const newProjectDir = await createNewPromptoDysProject(promptoDysHandle);\n    if (!newProjectDir) {\n      throw new Error('Impossible de crÃ©er le projet initial dans PromptoDYS');\n    }\n\n    // Sauvegarder la rÃ©fÃ©rence du workspace\n    localStorage.setItem('promptoDysWorkspaceHandle', JSON.stringify({\n      name: promptoDysHandle.name,\n      timestamp: new Date().toISOString()\n    }));\n    console.log('âœ… Workspace PromptoDYS configurÃ©:', promptoDysHandle.name);\n    console.log('âœ… Projet initial crÃ©Ã©:', newProjectDir.name);\n    return newProjectDir;\n  } catch (error) {\n    if (error.name === 'AbortError') {\n      throw new Error('SÃ©lection du dossier PromptoDYS annulÃ©e. L\\'Ã©diteur nÃ©cessite un workspace pour fonctionner.');\n    } else {\n      console.error('âŒ Erreur initialisation PromptoDYS:', error);\n      throw error;\n    }\n  }\n};\n\n/**\n * CrÃ©e un nouveau projet PromptoDYS\n */\nexport const createNewPromptoDysProject = async promptoDysDirectory => {\n  if (!promptoDysDirectory) return null;\n  try {\n    const projectName = generateTimestampFolderName();\n\n    // CrÃ©er le dossier du projet\n    const projectHandle = await promptoDysDirectory.getDirectoryHandle(projectName, {\n      create: true\n    });\n\n    // CrÃ©er le dossier assets\n    await projectHandle.getDirectoryHandle('assets', {\n      create: true\n    });\n\n    // DÃ©finir comme projet actuel\n    setCurrentProject(projectHandle, projectName);\n    console.log('âœ… Nouveau projet PromptoDYS crÃ©Ã©:', projectName);\n    return projectHandle;\n  } catch (error) {\n    console.error('âŒ Erreur crÃ©ation projet PromptoDYS:', error);\n    return null;\n  }\n};\n\n/**\n * Sauvegarde une image dans le dossier assets du projet actuel\n */\nexport const saveImageToPromptoDys = async (imageFile, projectDirectory) => {\n  if (!projectDirectory) return null;\n  try {\n    // Obtenir le dossier assets\n    const assetsHandle = await projectDirectory.getDirectoryHandle('assets', {\n      create: true\n    });\n\n    // GÃ©nÃ©rer un nom de fichier unique\n    const fileExtension = imageFile.name.split('.').pop().toLowerCase();\n    const fileName = generateImageFileName(imageFile.name, fileExtension);\n\n    // CrÃ©er le fichier image\n    const fileHandle = await assetsHandle.getFileHandle(fileName, {\n      create: true\n    });\n\n    // Ã‰crire les donnÃ©es\n    const writable = await fileHandle.createWritable();\n    await writable.write(imageFile);\n    await writable.close();\n    console.log('âœ… Image sauvegardÃ©e:', fileName);\n\n    // Retourner le chemin relatif pour Markdown\n    return `./assets/${fileName}`;\n  } catch (error) {\n    console.error('âŒ Erreur sauvegarde image:', error);\n    return null;\n  }\n};\n\n/**\n * Sauvegarde le fichier Markdown dans le projet PromptoDYS\n */\nexport const saveMarkdownToPromptoDys = async (content, projectDirectory, fileName) => {\n  if (!projectDirectory) return false;\n  try {\n    const mdFileName = fileName.endsWith('.md') ? fileName : `${fileName}.md`;\n    const fileHandle = await projectDirectory.getFileHandle(mdFileName, {\n      create: true\n    });\n    const writable = await fileHandle.createWritable();\n    await writable.write(content);\n    await writable.close();\n    console.log('âœ… Fichier Markdown sauvegardÃ©:', mdFileName);\n    return true;\n  } catch (error) {\n    console.error('âŒ Erreur sauvegarde Markdown:', error);\n    return false;\n  }\n};\n\n/**\n * Liste les projets PromptoDYS disponibles\n */\nexport const listPromptoDysProjects = async promptoDysDirectory => {\n  if (!promptoDysDirectory) return [];\n  try {\n    const projects = [];\n    for await (const [name, handle] of promptoDysDirectory.entries()) {\n      if (handle.kind === 'directory' && name.startsWith('Document_')) {\n        // VÃ©rifier s'il y a un fichier .md dans le dossier\n        try {\n          let hasMarkdown = false;\n          for await (const [fileName, fileHandle] of handle.entries()) {\n            if (fileHandle.kind === 'file' && fileName.endsWith('.md')) {\n              hasMarkdown = true;\n              break;\n            }\n          }\n          if (hasMarkdown) {\n            projects.push({\n              name,\n              handle,\n              displayName: name.replace('Document_', '').replace(/_/g, '/')\n            });\n          }\n        } catch (error) {\n          // Ignorer les dossiers inaccessibles\n        }\n      }\n    }\n\n    // Trier par nom (plus rÃ©cent en premier)\n    return projects.sort((a, b) => b.name.localeCompare(a.name));\n  } catch (error) {\n    console.error('âŒ Erreur liste projets:', error);\n    return [];\n  }\n};\n\n/**\n * RÃ©initialise le projet actuel (pour nouveau document)\n */\nexport const resetCurrentProject = () => {\n  currentProjectDirectory = null;\n  currentProjectName = null;\n  localStorage.removeItem('currentPromptoDysProject');\n  console.log('ðŸ”„ Projet PromptoDYS rÃ©initialisÃ©');\n};","map":{"version":3,"names":["isFileSystemAccessSupported","window","generateTimestampFolderName","now","Date","year","getFullYear","month","String","getMonth","padStart","day","getDate","hours","getHours","minutes","getMinutes","generateImageFileName","originalName","extension","timestamp","toString","getSeconds","baseName","replace","currentProjectDirectory","currentProjectName","setCurrentProject","directoryHandle","projectName","localStorage","setItem","getCurrentProject","directory","name","initializePromptoDysWorkspace","Error","savedWorkspace","getItem","console","log","promptoDysHandle","showDirectoryPicker","mode","startIn","newProjectDir","createNewPromptoDysProject","JSON","stringify","toISOString","error","promptoDysDirectory","projectHandle","getDirectoryHandle","create","saveImageToPromptoDys","imageFile","projectDirectory","assetsHandle","fileExtension","split","pop","toLowerCase","fileName","fileHandle","getFileHandle","writable","createWritable","write","close","saveMarkdownToPromptoDys","content","mdFileName","endsWith","listPromptoDysProjects","projects","handle","entries","kind","startsWith","hasMarkdown","push","displayName","sort","a","b","localeCompare","resetCurrentProject","removeItem"],"sources":["C:/Users/JEAN-NOELLEFEBVRE-SA/CascadeProjects/editor/src/utils/promptoDysManager.js"],"sourcesContent":["/**\n * Gestionnaire pour le systÃ¨me de fichiers PromptoDYS\n * GÃ¨re l'organisation des documents et images dans une structure cohÃ©rente\n */\n\n/**\n * VÃ©rifie si la File System Access API est disponible\n */\nexport const isFileSystemAccessSupported = () => {\n  return typeof window !== 'undefined' && 'showDirectoryPicker' in window;\n};\n\n/**\n * GÃ©nÃ¨re un nom de dossier basÃ© sur un timestamp\n * Format: Document_YYYYMMDD_HHMM\n */\nexport const generateTimestampFolderName = () => {\n  const now = new Date();\n  const year = now.getFullYear();\n  const month = String(now.getMonth() + 1).padStart(2, '0');\n  const day = String(now.getDate()).padStart(2, '0');\n  const hours = String(now.getHours()).padStart(2, '0');\n  const minutes = String(now.getMinutes()).padStart(2, '0');\n  \n  return `Document_${year}${month}${day}_${hours}${minutes}`;\n};\n\n/**\n * GÃ©nÃ¨re un nom de fichier image unique avec timestamp\n */\nexport const generateImageFileName = (originalName, extension) => {\n  const now = new Date();\n  const timestamp = now.getFullYear().toString() + \n                   String(now.getMonth() + 1).padStart(2, '0') +\n                   String(now.getDate()).padStart(2, '0') + '_' +\n                   String(now.getHours()).padStart(2, '0') +\n                   String(now.getMinutes()).padStart(2, '0') +\n                   String(now.getSeconds()).padStart(2, '0');\n  \n  const baseName = originalName.replace(/\\.[^/.]+$/, \"\") || 'image';\n  return `${baseName}_${timestamp}.${extension}`;\n};\n\n/**\n * Ã‰tat global du rÃ©pertoire de travail actuel\n */\nlet currentProjectDirectory = null;\nlet currentProjectName = null;\n\n/**\n * DÃ©finit le rÃ©pertoire de projet actuel\n */\nexport const setCurrentProject = (directoryHandle, projectName) => {\n  currentProjectDirectory = directoryHandle;\n  currentProjectName = projectName;\n  \n  // Sauvegarder dans localStorage pour persistance\n  if (projectName) {\n    localStorage.setItem('currentPromptoDysProject', projectName);\n  }\n};\n\n/**\n * RÃ©cupÃ¨re le rÃ©pertoire de projet actuel\n */\nexport const getCurrentProject = () => {\n  return {\n    directory: currentProjectDirectory,\n    name: currentProjectName\n  };\n};\n\n/**\n * Initialise automatiquement le workspace PromptoDYS\n * Demande Ã  l'utilisateur de sÃ©lectionner/crÃ©er le dossier PromptoDYS une seule fois\n */\nexport const initializePromptoDysWorkspace = async () => {\n  if (!isFileSystemAccessSupported()) {\n    throw new Error('File System Access API non supportÃ©e');\n  }\n\n  try {\n    // Tenter de restaurer le workspace depuis localStorage\n    const savedWorkspace = localStorage.getItem('promptoDysWorkspaceHandle');\n    if (savedWorkspace && currentProjectDirectory) {\n      console.log('âœ… Workspace PromptoDYS restaurÃ© depuis localStorage');\n      return currentProjectDirectory;\n    }\n\n    // Demander Ã  l'utilisateur de sÃ©lectionner/crÃ©er le dossier PromptoDYS\n    console.log('ðŸ—‚ï¸ SÃ©lection du dossier PromptoDYS...');\n    const promptoDysHandle = await window.showDirectoryPicker({\n      mode: 'readwrite',\n      startIn: 'documents'\n    });\n\n    // CrÃ©er immÃ©diatement un nouveau projet timestampÃ©\n    const newProjectDir = await createNewPromptoDysProject(promptoDysHandle);\n    if (!newProjectDir) {\n      throw new Error('Impossible de crÃ©er le projet initial dans PromptoDYS');\n    }\n\n    // Sauvegarder la rÃ©fÃ©rence du workspace\n    localStorage.setItem('promptoDysWorkspaceHandle', JSON.stringify({\n      name: promptoDysHandle.name,\n      timestamp: new Date().toISOString()\n    }));\n\n    console.log('âœ… Workspace PromptoDYS configurÃ©:', promptoDysHandle.name);\n    console.log('âœ… Projet initial crÃ©Ã©:', newProjectDir.name);\n    return newProjectDir;\n  } catch (error) {\n    if (error.name === 'AbortError') {\n      throw new Error('SÃ©lection du dossier PromptoDYS annulÃ©e. L\\'Ã©diteur nÃ©cessite un workspace pour fonctionner.');\n    } else {\n      console.error('âŒ Erreur initialisation PromptoDYS:', error);\n      throw error;\n    }\n  }\n};\n\n/**\n * CrÃ©e un nouveau projet PromptoDYS\n */\nexport const createNewPromptoDysProject = async (promptoDysDirectory) => {\n  if (!promptoDysDirectory) return null;\n\n  try {\n    const projectName = generateTimestampFolderName();\n    \n    // CrÃ©er le dossier du projet\n    const projectHandle = await promptoDysDirectory.getDirectoryHandle(projectName, {\n      create: true\n    });\n    \n    // CrÃ©er le dossier assets\n    await projectHandle.getDirectoryHandle('assets', {\n      create: true\n    });\n    \n    // DÃ©finir comme projet actuel\n    setCurrentProject(projectHandle, projectName);\n    \n    console.log('âœ… Nouveau projet PromptoDYS crÃ©Ã©:', projectName);\n    return projectHandle;\n  } catch (error) {\n    console.error('âŒ Erreur crÃ©ation projet PromptoDYS:', error);\n    return null;\n  }\n};\n\n/**\n * Sauvegarde une image dans le dossier assets du projet actuel\n */\nexport const saveImageToPromptoDys = async (imageFile, projectDirectory) => {\n  if (!projectDirectory) return null;\n\n  try {\n    // Obtenir le dossier assets\n    const assetsHandle = await projectDirectory.getDirectoryHandle('assets', {\n      create: true\n    });\n    \n    // GÃ©nÃ©rer un nom de fichier unique\n    const fileExtension = imageFile.name.split('.').pop().toLowerCase();\n    const fileName = generateImageFileName(imageFile.name, fileExtension);\n    \n    // CrÃ©er le fichier image\n    const fileHandle = await assetsHandle.getFileHandle(fileName, {\n      create: true\n    });\n    \n    // Ã‰crire les donnÃ©es\n    const writable = await fileHandle.createWritable();\n    await writable.write(imageFile);\n    await writable.close();\n    \n    console.log('âœ… Image sauvegardÃ©e:', fileName);\n    \n    // Retourner le chemin relatif pour Markdown\n    return `./assets/${fileName}`;\n  } catch (error) {\n    console.error('âŒ Erreur sauvegarde image:', error);\n    return null;\n  }\n};\n\n/**\n * Sauvegarde le fichier Markdown dans le projet PromptoDYS\n */\nexport const saveMarkdownToPromptoDys = async (content, projectDirectory, fileName) => {\n  if (!projectDirectory) return false;\n\n  try {\n    const mdFileName = fileName.endsWith('.md') ? fileName : `${fileName}.md`;\n    \n    const fileHandle = await projectDirectory.getFileHandle(mdFileName, {\n      create: true\n    });\n    \n    const writable = await fileHandle.createWritable();\n    await writable.write(content);\n    await writable.close();\n    \n    console.log('âœ… Fichier Markdown sauvegardÃ©:', mdFileName);\n    return true;\n  } catch (error) {\n    console.error('âŒ Erreur sauvegarde Markdown:', error);\n    return false;\n  }\n};\n\n/**\n * Liste les projets PromptoDYS disponibles\n */\nexport const listPromptoDysProjects = async (promptoDysDirectory) => {\n  if (!promptoDysDirectory) return [];\n\n  try {\n    const projects = [];\n    \n    for await (const [name, handle] of promptoDysDirectory.entries()) {\n      if (handle.kind === 'directory' && name.startsWith('Document_')) {\n        // VÃ©rifier s'il y a un fichier .md dans le dossier\n        try {\n          let hasMarkdown = false;\n          for await (const [fileName, fileHandle] of handle.entries()) {\n            if (fileHandle.kind === 'file' && fileName.endsWith('.md')) {\n              hasMarkdown = true;\n              break;\n            }\n          }\n          \n          if (hasMarkdown) {\n            projects.push({\n              name,\n              handle,\n              displayName: name.replace('Document_', '').replace(/_/g, '/')\n            });\n          }\n        } catch (error) {\n          // Ignorer les dossiers inaccessibles\n        }\n      }\n    }\n    \n    // Trier par nom (plus rÃ©cent en premier)\n    return projects.sort((a, b) => b.name.localeCompare(a.name));\n  } catch (error) {\n    console.error('âŒ Erreur liste projets:', error);\n    return [];\n  }\n};\n\n/**\n * RÃ©initialise le projet actuel (pour nouveau document)\n */\nexport const resetCurrentProject = () => {\n  currentProjectDirectory = null;\n  currentProjectName = null;\n  localStorage.removeItem('currentPromptoDysProject');\n  console.log('ðŸ”„ Projet PromptoDYS rÃ©initialisÃ©');\n};\n"],"mappings":"AAAA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO,MAAMA,2BAA2B,GAAGA,CAAA,KAAM;EAC/C,OAAO,OAAOC,MAAM,KAAK,WAAW,IAAI,qBAAqB,IAAIA,MAAM;AACzE,CAAC;;AAED;AACA;AACA;AACA;AACA,OAAO,MAAMC,2BAA2B,GAAGA,CAAA,KAAM;EAC/C,MAAMC,GAAG,GAAG,IAAIC,IAAI,CAAC,CAAC;EACtB,MAAMC,IAAI,GAAGF,GAAG,CAACG,WAAW,CAAC,CAAC;EAC9B,MAAMC,KAAK,GAAGC,MAAM,CAACL,GAAG,CAACM,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC;EACzD,MAAMC,GAAG,GAAGH,MAAM,CAACL,GAAG,CAACS,OAAO,CAAC,CAAC,CAAC,CAACF,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC;EAClD,MAAMG,KAAK,GAAGL,MAAM,CAACL,GAAG,CAACW,QAAQ,CAAC,CAAC,CAAC,CAACJ,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC;EACrD,MAAMK,OAAO,GAAGP,MAAM,CAACL,GAAG,CAACa,UAAU,CAAC,CAAC,CAAC,CAACN,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC;EAEzD,OAAO,YAAYL,IAAI,GAAGE,KAAK,GAAGI,GAAG,IAAIE,KAAK,GAAGE,OAAO,EAAE;AAC5D,CAAC;;AAED;AACA;AACA;AACA,OAAO,MAAME,qBAAqB,GAAGA,CAACC,YAAY,EAAEC,SAAS,KAAK;EAChE,MAAMhB,GAAG,GAAG,IAAIC,IAAI,CAAC,CAAC;EACtB,MAAMgB,SAAS,GAAGjB,GAAG,CAACG,WAAW,CAAC,CAAC,CAACe,QAAQ,CAAC,CAAC,GAC7Bb,MAAM,CAACL,GAAG,CAACM,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,GAC3CF,MAAM,CAACL,GAAG,CAACS,OAAO,CAAC,CAAC,CAAC,CAACF,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,GAAG,GAAG,GAC5CF,MAAM,CAACL,GAAG,CAACW,QAAQ,CAAC,CAAC,CAAC,CAACJ,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,GACvCF,MAAM,CAACL,GAAG,CAACa,UAAU,CAAC,CAAC,CAAC,CAACN,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,GACzCF,MAAM,CAACL,GAAG,CAACmB,UAAU,CAAC,CAAC,CAAC,CAACZ,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC;EAE1D,MAAMa,QAAQ,GAAGL,YAAY,CAACM,OAAO,CAAC,WAAW,EAAE,EAAE,CAAC,IAAI,OAAO;EACjE,OAAO,GAAGD,QAAQ,IAAIH,SAAS,IAAID,SAAS,EAAE;AAChD,CAAC;;AAED;AACA;AACA;AACA,IAAIM,uBAAuB,GAAG,IAAI;AAClC,IAAIC,kBAAkB,GAAG,IAAI;;AAE7B;AACA;AACA;AACA,OAAO,MAAMC,iBAAiB,GAAGA,CAACC,eAAe,EAAEC,WAAW,KAAK;EACjEJ,uBAAuB,GAAGG,eAAe;EACzCF,kBAAkB,GAAGG,WAAW;;EAEhC;EACA,IAAIA,WAAW,EAAE;IACfC,YAAY,CAACC,OAAO,CAAC,0BAA0B,EAAEF,WAAW,CAAC;EAC/D;AACF,CAAC;;AAED;AACA;AACA;AACA,OAAO,MAAMG,iBAAiB,GAAGA,CAAA,KAAM;EACrC,OAAO;IACLC,SAAS,EAAER,uBAAuB;IAClCS,IAAI,EAAER;EACR,CAAC;AACH,CAAC;;AAED;AACA;AACA;AACA;AACA,OAAO,MAAMS,6BAA6B,GAAG,MAAAA,CAAA,KAAY;EACvD,IAAI,CAACnC,2BAA2B,CAAC,CAAC,EAAE;IAClC,MAAM,IAAIoC,KAAK,CAAC,sCAAsC,CAAC;EACzD;EAEA,IAAI;IACF;IACA,MAAMC,cAAc,GAAGP,YAAY,CAACQ,OAAO,CAAC,2BAA2B,CAAC;IACxE,IAAID,cAAc,IAAIZ,uBAAuB,EAAE;MAC7Cc,OAAO,CAACC,GAAG,CAAC,qDAAqD,CAAC;MAClE,OAAOf,uBAAuB;IAChC;;IAEA;IACAc,OAAO,CAACC,GAAG,CAAC,wCAAwC,CAAC;IACrD,MAAMC,gBAAgB,GAAG,MAAMxC,MAAM,CAACyC,mBAAmB,CAAC;MACxDC,IAAI,EAAE,WAAW;MACjBC,OAAO,EAAE;IACX,CAAC,CAAC;;IAEF;IACA,MAAMC,aAAa,GAAG,MAAMC,0BAA0B,CAACL,gBAAgB,CAAC;IACxE,IAAI,CAACI,aAAa,EAAE;MAClB,MAAM,IAAIT,KAAK,CAAC,uDAAuD,CAAC;IAC1E;;IAEA;IACAN,YAAY,CAACC,OAAO,CAAC,2BAA2B,EAAEgB,IAAI,CAACC,SAAS,CAAC;MAC/Dd,IAAI,EAAEO,gBAAgB,CAACP,IAAI;MAC3Bd,SAAS,EAAE,IAAIhB,IAAI,CAAC,CAAC,CAAC6C,WAAW,CAAC;IACpC,CAAC,CAAC,CAAC;IAEHV,OAAO,CAACC,GAAG,CAAC,mCAAmC,EAAEC,gBAAgB,CAACP,IAAI,CAAC;IACvEK,OAAO,CAACC,GAAG,CAAC,wBAAwB,EAAEK,aAAa,CAACX,IAAI,CAAC;IACzD,OAAOW,aAAa;EACtB,CAAC,CAAC,OAAOK,KAAK,EAAE;IACd,IAAIA,KAAK,CAAChB,IAAI,KAAK,YAAY,EAAE;MAC/B,MAAM,IAAIE,KAAK,CAAC,8FAA8F,CAAC;IACjH,CAAC,MAAM;MACLG,OAAO,CAACW,KAAK,CAAC,qCAAqC,EAAEA,KAAK,CAAC;MAC3D,MAAMA,KAAK;IACb;EACF;AACF,CAAC;;AAED;AACA;AACA;AACA,OAAO,MAAMJ,0BAA0B,GAAG,MAAOK,mBAAmB,IAAK;EACvE,IAAI,CAACA,mBAAmB,EAAE,OAAO,IAAI;EAErC,IAAI;IACF,MAAMtB,WAAW,GAAG3B,2BAA2B,CAAC,CAAC;;IAEjD;IACA,MAAMkD,aAAa,GAAG,MAAMD,mBAAmB,CAACE,kBAAkB,CAACxB,WAAW,EAAE;MAC9EyB,MAAM,EAAE;IACV,CAAC,CAAC;;IAEF;IACA,MAAMF,aAAa,CAACC,kBAAkB,CAAC,QAAQ,EAAE;MAC/CC,MAAM,EAAE;IACV,CAAC,CAAC;;IAEF;IACA3B,iBAAiB,CAACyB,aAAa,EAAEvB,WAAW,CAAC;IAE7CU,OAAO,CAACC,GAAG,CAAC,mCAAmC,EAAEX,WAAW,CAAC;IAC7D,OAAOuB,aAAa;EACtB,CAAC,CAAC,OAAOF,KAAK,EAAE;IACdX,OAAO,CAACW,KAAK,CAAC,sCAAsC,EAAEA,KAAK,CAAC;IAC5D,OAAO,IAAI;EACb;AACF,CAAC;;AAED;AACA;AACA;AACA,OAAO,MAAMK,qBAAqB,GAAG,MAAAA,CAAOC,SAAS,EAAEC,gBAAgB,KAAK;EAC1E,IAAI,CAACA,gBAAgB,EAAE,OAAO,IAAI;EAElC,IAAI;IACF;IACA,MAAMC,YAAY,GAAG,MAAMD,gBAAgB,CAACJ,kBAAkB,CAAC,QAAQ,EAAE;MACvEC,MAAM,EAAE;IACV,CAAC,CAAC;;IAEF;IACA,MAAMK,aAAa,GAAGH,SAAS,CAACtB,IAAI,CAAC0B,KAAK,CAAC,GAAG,CAAC,CAACC,GAAG,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC;IACnE,MAAMC,QAAQ,GAAG9C,qBAAqB,CAACuC,SAAS,CAACtB,IAAI,EAAEyB,aAAa,CAAC;;IAErE;IACA,MAAMK,UAAU,GAAG,MAAMN,YAAY,CAACO,aAAa,CAACF,QAAQ,EAAE;MAC5DT,MAAM,EAAE;IACV,CAAC,CAAC;;IAEF;IACA,MAAMY,QAAQ,GAAG,MAAMF,UAAU,CAACG,cAAc,CAAC,CAAC;IAClD,MAAMD,QAAQ,CAACE,KAAK,CAACZ,SAAS,CAAC;IAC/B,MAAMU,QAAQ,CAACG,KAAK,CAAC,CAAC;IAEtB9B,OAAO,CAACC,GAAG,CAAC,sBAAsB,EAAEuB,QAAQ,CAAC;;IAE7C;IACA,OAAO,YAAYA,QAAQ,EAAE;EAC/B,CAAC,CAAC,OAAOb,KAAK,EAAE;IACdX,OAAO,CAACW,KAAK,CAAC,4BAA4B,EAAEA,KAAK,CAAC;IAClD,OAAO,IAAI;EACb;AACF,CAAC;;AAED;AACA;AACA;AACA,OAAO,MAAMoB,wBAAwB,GAAG,MAAAA,CAAOC,OAAO,EAAEd,gBAAgB,EAAEM,QAAQ,KAAK;EACrF,IAAI,CAACN,gBAAgB,EAAE,OAAO,KAAK;EAEnC,IAAI;IACF,MAAMe,UAAU,GAAGT,QAAQ,CAACU,QAAQ,CAAC,KAAK,CAAC,GAAGV,QAAQ,GAAG,GAAGA,QAAQ,KAAK;IAEzE,MAAMC,UAAU,GAAG,MAAMP,gBAAgB,CAACQ,aAAa,CAACO,UAAU,EAAE;MAClElB,MAAM,EAAE;IACV,CAAC,CAAC;IAEF,MAAMY,QAAQ,GAAG,MAAMF,UAAU,CAACG,cAAc,CAAC,CAAC;IAClD,MAAMD,QAAQ,CAACE,KAAK,CAACG,OAAO,CAAC;IAC7B,MAAML,QAAQ,CAACG,KAAK,CAAC,CAAC;IAEtB9B,OAAO,CAACC,GAAG,CAAC,gCAAgC,EAAEgC,UAAU,CAAC;IACzD,OAAO,IAAI;EACb,CAAC,CAAC,OAAOtB,KAAK,EAAE;IACdX,OAAO,CAACW,KAAK,CAAC,+BAA+B,EAAEA,KAAK,CAAC;IACrD,OAAO,KAAK;EACd;AACF,CAAC;;AAED;AACA;AACA;AACA,OAAO,MAAMwB,sBAAsB,GAAG,MAAOvB,mBAAmB,IAAK;EACnE,IAAI,CAACA,mBAAmB,EAAE,OAAO,EAAE;EAEnC,IAAI;IACF,MAAMwB,QAAQ,GAAG,EAAE;IAEnB,WAAW,MAAM,CAACzC,IAAI,EAAE0C,MAAM,CAAC,IAAIzB,mBAAmB,CAAC0B,OAAO,CAAC,CAAC,EAAE;MAChE,IAAID,MAAM,CAACE,IAAI,KAAK,WAAW,IAAI5C,IAAI,CAAC6C,UAAU,CAAC,WAAW,CAAC,EAAE;QAC/D;QACA,IAAI;UACF,IAAIC,WAAW,GAAG,KAAK;UACvB,WAAW,MAAM,CAACjB,QAAQ,EAAEC,UAAU,CAAC,IAAIY,MAAM,CAACC,OAAO,CAAC,CAAC,EAAE;YAC3D,IAAIb,UAAU,CAACc,IAAI,KAAK,MAAM,IAAIf,QAAQ,CAACU,QAAQ,CAAC,KAAK,CAAC,EAAE;cAC1DO,WAAW,GAAG,IAAI;cAClB;YACF;UACF;UAEA,IAAIA,WAAW,EAAE;YACfL,QAAQ,CAACM,IAAI,CAAC;cACZ/C,IAAI;cACJ0C,MAAM;cACNM,WAAW,EAAEhD,IAAI,CAACV,OAAO,CAAC,WAAW,EAAE,EAAE,CAAC,CAACA,OAAO,CAAC,IAAI,EAAE,GAAG;YAC9D,CAAC,CAAC;UACJ;QACF,CAAC,CAAC,OAAO0B,KAAK,EAAE;UACd;QAAA;MAEJ;IACF;;IAEA;IACA,OAAOyB,QAAQ,CAACQ,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKA,CAAC,CAACnD,IAAI,CAACoD,aAAa,CAACF,CAAC,CAAClD,IAAI,CAAC,CAAC;EAC9D,CAAC,CAAC,OAAOgB,KAAK,EAAE;IACdX,OAAO,CAACW,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;IAC/C,OAAO,EAAE;EACX;AACF,CAAC;;AAED;AACA;AACA;AACA,OAAO,MAAMqC,mBAAmB,GAAGA,CAAA,KAAM;EACvC9D,uBAAuB,GAAG,IAAI;EAC9BC,kBAAkB,GAAG,IAAI;EACzBI,YAAY,CAAC0D,UAAU,CAAC,0BAA0B,CAAC;EACnDjD,OAAO,CAACC,GAAG,CAAC,mCAAmC,CAAC;AAClD,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}