{"ast":null,"code":"import _objectSpread from\"C:/Users/JEAN-NOELLEFEBVRE-SA/CascadeProjects/editor/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React from'react';import{htmlToMarkdown,markdownToHtml}from'../utils/markdownConverter';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Toolbar=_ref=>{let{viewMode,// Remplacer isWysiwyg par viewMode\nonViewModeChange,// Prop correcte depuis App.js\ncurrentFormat,setCurrentFormat,editorRef,onFormatChange,onThemeSettingsToggle// Nouvelle prop pour ouvrir les param√®tres DYS\n}=_ref;// Fonctions pour les fichiers Markdown\nconst handleCopyMarkdown=async()=>{try{var _editorRef$current;const content=((_editorRef$current=editorRef.current)===null||_editorRef$current===void 0?void 0:_editorRef$current.innerHTML)||'';let markdownContent=htmlToMarkdown(content);// Enlever les attributs de couleur HTML pour avoir du Markdown natif\nmarkdownContent=markdownContent.replace(/<span style=\"color: [^\"]+;\">(.*?)<\\/span>/gi,'$1');await navigator.clipboard.writeText(markdownContent);alert('Markdown copi√© dans le presse-papier !');}catch(error){console.error('Erreur lors de la copie:',error);alert('Erreur lors de la copie du Markdown');}};const handleSaveMarkdown=()=>{try{var _editorRef$current2;const fileName=prompt('Nom du fichier (sans extension):','document');if(!fileName)return;const content=((_editorRef$current2=editorRef.current)===null||_editorRef$current2===void 0?void 0:_editorRef$current2.innerHTML)||'';const markdownContent=htmlToMarkdown(content);const blob=new Blob([markdownContent],{type:'text/markdown'});const url=URL.createObjectURL(blob);const link=document.createElement('a');link.href=url;link.download=\"\".concat(fileName,\".md\");document.body.appendChild(link);link.click();document.body.removeChild(link);URL.revokeObjectURL(url);}catch(error){console.error('Erreur lors de la sauvegarde:',error);alert('Erreur lors de la sauvegarde du fichier');}};const handleLoadMarkdown=event=>{const file=event.target.files[0];if(!file)return;const reader=new FileReader();reader.onload=e=>{try{const markdownContent=e.target.result;const htmlContent=markdownToHtml(markdownContent);if(editorRef.current){editorRef.current.innerHTML=htmlContent;// D√©clencher l'√©v√©nement de changement pour mettre √† jour l'√©tat\nconst inputEvent=new Event('input',{bubbles:true});editorRef.current.dispatchEvent(inputEvent);}// Basculer en mode WYSIWYG apr√®s le chargement\nonViewModeChange('wysiwyg');alert('Fichier Markdown charg√© avec succ√®s !');}catch(error){console.error('Erreur lors du chargement:',error);alert('Erreur lors du chargement du fichier Markdown');}};reader.readAsText(file);// Reset l'input pour permettre de recharger le m√™me fichier\nevent.target.value='';};const colors=[{name:'Noir',value:'#000000'},{name:'Bleu',value:'#3399ff'},{name:'Vert',value:'#00cc00'},{name:'Rouge',value:'#ff0000'},{name:'Orange',value:'#ff9900'},{name:'Violet',value:'#ff00ff'}];const execCommand=function(command){let value=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;if(viewMode!=='wysiwyg'||!editorRef.current)return;editorRef.current.focus();document.execCommand(command,false,value);// Mise √† jour imm√©diate de l'√©tat des boutons\nconst newFormat=_objectSpread({},currentFormat);if(command==='bold'){newFormat.bold=!currentFormat.bold;}else if(command==='italic'){newFormat.italic=!currentFormat.italic;}else if(command==='foreColor'){newFormat.color=value;}// Forcer la mise √† jour imm√©diate\nsetCurrentFormat(newFormat);// Sauvegarder l'√©tat pour les d√©buts de ligne\nonFormatChange(newFormat);};const handleHeading=level=>{if(viewMode!=='wysiwyg'||!editorRef.current)return;editorRef.current.focus();// Nettoyer le formatage existant avant d'appliquer le titre\ndocument.execCommand('removeFormat',false,null);// Appliquer le titre\ndocument.execCommand('formatBlock',false,level);onFormatChange();};const handleTextFormat=()=>{if(viewMode!=='wysiwyg'||!editorRef.current)return;editorRef.current.focus();// D√©sactiver les listes d'abord si elles sont actives\nif(document.queryCommandState('insertUnorderedList')){document.execCommand('insertUnorderedList',false,null);}if(document.queryCommandState('insertOrderedList')){document.execCommand('insertOrderedList',false,null);}// Force d√©sactivation gras/italique AVANT removeFormat\nif(document.queryCommandState('bold')){document.execCommand('bold',false,null);}if(document.queryCommandState('italic')){document.execCommand('italic',false,null);}// Forcer d'abord le retour au paragraphe normal AVANT removeFormat\ndocument.execCommand('formatBlock',false,'p');// Puis nettoyer le formatage existant\ndocument.execCommand('removeFormat',false,null);// √âtat explicite Normal pour mise √† jour imm√©diate\nconst newFormat={bold:false,italic:false,color:'#000000',fontSize:'16px',fontFamily:'system-ui',heading:null,list:null};setCurrentFormat(newFormat);onFormatChange(newFormat);};const handleList=type=>{if(viewMode!=='wysiwyg'||!editorRef.current)return;editorRef.current.focus();if(type==='bullet'){document.execCommand('insertUnorderedList',false,null);}else if(type==='number'){document.execCommand('insertOrderedList',false,null);}else if(type==='letter'){document.execCommand('insertOrderedList',false,null);// Appliquer le style alphab√©tique √† la liste cr√©√©e\nconst selection=window.getSelection();if(selection.rangeCount>0){let element=selection.getRangeAt(0).commonAncestorContainer;while(element&&element.nodeType!==1){element=element.parentNode;}while(element&&element.tagName!=='OL'){element=element.parentNode;}if(element&&element.tagName==='OL'){element.style.listStyleType='lower-alpha';}}}onFormatChange();};const handleClearAll=()=>{if(viewMode!=='wysiwyg'||!editorRef.current)return;editorRef.current.focus();// S√©lectionner tout le contenu puis le supprimer\ndocument.execCommand('selectAll',false,null);document.execCommand('delete',false,null);onFormatChange();};return/*#__PURE__*/_jsxs(\"div\",{className:\"border-t border-b bg-gray-50 py-3 w-full\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-start space-x-6 mb-2 w-full\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium\",children:\"Format:\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleTextFormat(),className:\"px-2 py-0.5 text-xs rounded \".concat(!currentFormat.bold&&!currentFormat.italic&&!currentFormat.heading&&!currentFormat.list?'bg-blue-500 text-white':'bg-gray-200 text-gray-700 hover:bg-gray-300'),disabled:viewMode!=='wysiwyg',children:\"Normal\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>execCommand('bold'),className:\"px-2 py-0.5 text-xs rounded font-bold \".concat(currentFormat.bold?'bg-blue-500 text-white':'bg-gray-200 text-gray-700 hover:bg-gray-300'),disabled:viewMode!=='wysiwyg',children:\"Gras\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>execCommand('italic'),className:\"px-2 py-0.5 text-xs rounded italic \".concat(currentFormat.italic?'bg-blue-500 text-white':'bg-gray-200 text-gray-700 hover:bg-gray-300'),disabled:viewMode!=='wysiwyg',children:\"Italique\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex space-x-1\",children:colors.map((color,index)=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>execCommand('foreColor',color.value),className:\"w-4 h-4 rounded-full border-2 \".concat(currentFormat.color===color.value?'border-blue-500 ring-2 ring-blue-300':'border-gray-300 hover:border-gray-500'),style:{backgroundColor:color.value},disabled:viewMode!=='wysiwyg',title:color.name},index))}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 mb-4\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-700\",children:\"Mode:\"}),/*#__PURE__*/_jsxs(\"select\",{value:viewMode,onChange:e=>onViewModeChange(e.target.value),className:\"px-3 py-1 text-sm rounded border border-gray-300 bg-white text-gray-700 hover:border-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"wysiwyg\",children:\"\\uD83D\\uDCDD \\xC9diteur visuel\"}),/*#__PURE__*/_jsx(\"option\",{value:\"markdown\",children:\"#\\uFE0F\\u20E3 Code Markdown\"}),/*#__PURE__*/_jsx(\"option\",{value:\"html\",children:\"\\uD83C\\uDF10 Code HTML\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 mb-4\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-700\",children:\"Fichiers:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative group\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleSaveMarkdown,className:\"px-3 py-1 text-sm rounded bg-gray-200 text-gray-700 hover:bg-gray-300\",children:\"\\uD83D\\uDCBE\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 bg-gray-800 text-white text-sm rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none whitespace-nowrap z-50\",children:[\"Sauvegarder en .md\",/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-full left-1/2 transform -translate-x-1/2 -mt-1 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-800\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative group\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"px-3 py-1 text-sm rounded bg-gray-200 text-gray-700 hover:bg-gray-300 cursor-pointer\",children:[\"\\uD83D\\uDCC1\",/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\".md,.markdown\",onChange:handleLoadMarkdown,className:\"hidden\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 bg-gray-800 text-white text-sm rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none whitespace-nowrap z-50\",children:[\"Charger un fichier .md\",/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-full left-1/2 transform -translate-x-1/2 -mt-1 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-800\"})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center space-x-2 mb-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative group\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:onThemeSettingsToggle,className:\"px-3 py-1 text-sm rounded bg-blue-200 text-blue-800 hover:bg-blue-300 font-medium\",children:\"\\u2699\\uFE0F DYS\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 bg-gray-800 text-white text-sm rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none whitespace-nowrap z-50\",children:[\"Param\\xE8tres d'accessibilit\\xE9 DYS\",/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-full left-1/2 transform -translate-x-1/2 -mt-1 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-800\"})]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-start space-x-6 w-full\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium\",children:\"Titres:\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleTextFormat(),className:\"px-2 py-0.5 text-xs rounded \".concat(!currentFormat.heading&&!currentFormat.list?'bg-blue-500 text-white':'bg-gray-200 text-gray-700 hover:bg-gray-300'),disabled:viewMode!=='wysiwyg',children:\"Texte\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleHeading('h1'),className:\"px-2 py-0.5 text-xs rounded \".concat(currentFormat.heading==='h1'?'bg-blue-500 text-white':'bg-gray-200 text-gray-700 hover:bg-gray-300'),disabled:viewMode!=='wysiwyg',children:\"Titre 1\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleHeading('h2'),className:\"px-2 py-0.5 text-xs rounded \".concat(currentFormat.heading==='h2'?'bg-blue-500 text-white':'bg-gray-200 text-gray-700 hover:bg-gray-300'),disabled:viewMode!=='wysiwyg',children:\"Titre 2\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleHeading('h3'),className:\"px-2 py-0.5 text-xs rounded \".concat(currentFormat.heading==='h3'?'bg-blue-500 text-white':'bg-gray-200 text-gray-700 hover:bg-gray-300'),disabled:viewMode!=='wysiwyg',children:\"Titre 3\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium\",children:\"Listes:\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleList('bullet'),className:\"px-2 py-0.5 text-xs rounded \".concat(currentFormat.list==='bullet'?'bg-blue-500 text-white':'bg-gray-200 text-gray-700 hover:bg-gray-300'),disabled:viewMode!=='wysiwyg',children:\"\\u2022 Puces\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleList('number'),className:\"px-2 py-0.5 text-xs rounded \".concat(currentFormat.list==='number'?'bg-blue-500 text-white':'bg-gray-200 text-gray-700 hover:bg-gray-300'),disabled:viewMode!=='wysiwyg',children:\"1. Num\\xE9ros\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleList('letter'),className:\"px-2 py-0.5 text-xs rounded \".concat(currentFormat.list==='letter'?'bg-blue-500 text-white':'bg-gray-200 text-gray-700 hover:bg-gray-300'),disabled:viewMode!=='wysiwyg',children:\"a. Lettres\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-700\",children:\"\\xC9dition:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative group\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>document.execCommand('undo',false,null),className:\"px-2 py-0.5 text-xs rounded bg-gray-200 text-gray-700 hover:bg-gray-300\",disabled:viewMode!=='wysiwyg',children:\"\\u21B6\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 bg-gray-800 text-white text-sm rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none whitespace-nowrap z-50\",children:[\"Annuler (Ctrl+Z)\",/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-full left-1/2 transform -translate-x-1/2 -mt-1 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-800\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative group\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>document.execCommand('redo',false,null),className:\"px-2 py-0.5 text-xs rounded bg-gray-200 text-gray-700 hover:bg-gray-300\",disabled:viewMode!=='wysiwyg',children:\"\\u21B7\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 bg-gray-800 text-white text-sm rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none whitespace-nowrap z-50\",children:[\"R\\xE9tablir (Ctrl+Y)\",/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-full left-1/2 transform -translate-x-1/2 -mt-1 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-800\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative group\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleClearAll,className:\"px-2 py-0.5 text-xs rounded bg-gray-200 text-gray-700 hover:bg-gray-300\",disabled:viewMode!=='wysiwyg',children:\"\\uD83E\\uDDFD\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 bg-gray-800 text-white text-sm rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none whitespace-nowrap z-50\",children:[\"Effacer tout\",/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-full left-1/2 transform -translate-x-1/2 -mt-1 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-800\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative group\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleCopyMarkdown,className:\"px-2 py-0.5 text-xs rounded bg-gray-200 text-gray-700 hover:bg-gray-300\",children:\"\\uD83D\\uDCCB\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 bg-gray-800 text-white text-sm rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none whitespace-nowrap z-50\",children:[\"Copier en Markdown\",/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-full left-1/2 transform -translate-x-1/2 -mt-1 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-800\"})]})]})]})]})]});};export default Toolbar;","map":{"version":3,"names":["React","htmlToMarkdown","markdownToHtml","jsx","_jsx","jsxs","_jsxs","Toolbar","_ref","viewMode","onViewModeChange","currentFormat","setCurrentFormat","editorRef","onFormatChange","onThemeSettingsToggle","handleCopyMarkdown","_editorRef$current","content","current","innerHTML","markdownContent","replace","navigator","clipboard","writeText","alert","error","console","handleSaveMarkdown","_editorRef$current2","fileName","prompt","blob","Blob","type","url","URL","createObjectURL","link","document","createElement","href","download","concat","body","appendChild","click","removeChild","revokeObjectURL","handleLoadMarkdown","event","file","target","files","reader","FileReader","onload","e","result","htmlContent","inputEvent","Event","bubbles","dispatchEvent","readAsText","value","colors","name","execCommand","command","arguments","length","undefined","focus","newFormat","_objectSpread","bold","italic","color","handleHeading","level","handleTextFormat","queryCommandState","fontSize","fontFamily","heading","list","handleList","selection","window","getSelection","rangeCount","element","getRangeAt","commonAncestorContainer","nodeType","parentNode","tagName","style","listStyleType","handleClearAll","className","children","onClick","disabled","map","index","backgroundColor","title","onChange","accept"],"sources":["C:/Users/JEAN-NOELLEFEBVRE-SA/CascadeProjects/editor/src/components/Toolbar.js"],"sourcesContent":["import React from 'react';\nimport { htmlToMarkdown, markdownToHtml } from '../utils/markdownConverter';\n\nconst Toolbar = ({ \n  viewMode,        // Remplacer isWysiwyg par viewMode\n  onViewModeChange,  // Prop correcte depuis App.js\n  currentFormat, \n  setCurrentFormat,\n  editorRef,\n  onFormatChange,\n  onThemeSettingsToggle  // Nouvelle prop pour ouvrir les param√®tres DYS\n}) => {\n\n  // Fonctions pour les fichiers Markdown\n  const handleCopyMarkdown = async () => {\n    try {\n      const content = editorRef.current?.innerHTML || '';\n      let markdownContent = htmlToMarkdown(content);\n      \n      // Enlever les attributs de couleur HTML pour avoir du Markdown natif\n      markdownContent = markdownContent.replace(/<span style=\"color: [^\"]+;\">(.*?)<\\/span>/gi, '$1');\n      \n      await navigator.clipboard.writeText(markdownContent);\n      alert('Markdown copi√© dans le presse-papier !');\n    } catch (error) {\n      console.error('Erreur lors de la copie:', error);\n      alert('Erreur lors de la copie du Markdown');\n    }\n  };\n\n  const handleSaveMarkdown = () => {\n    try {\n      const fileName = prompt('Nom du fichier (sans extension):', 'document');\n      if (!fileName) return;\n      \n      const content = editorRef.current?.innerHTML || '';\n      const markdownContent = htmlToMarkdown(content);\n      \n      const blob = new Blob([markdownContent], { type: 'text/markdown' });\n      const url = URL.createObjectURL(blob);\n      \n      const link = document.createElement('a');\n      link.href = url;\n      link.download = `${fileName}.md`;\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n      URL.revokeObjectURL(url);\n    } catch (error) {\n      console.error('Erreur lors de la sauvegarde:', error);\n      alert('Erreur lors de la sauvegarde du fichier');\n    }\n  };\n\n  const handleLoadMarkdown = (event) => {\n    const file = event.target.files[0];\n    if (!file) return;\n\n    const reader = new FileReader();\n    reader.onload = (e) => {\n      try {\n        const markdownContent = e.target.result;\n        const htmlContent = markdownToHtml(markdownContent);\n        \n        if (editorRef.current) {\n          editorRef.current.innerHTML = htmlContent;\n          // D√©clencher l'√©v√©nement de changement pour mettre √† jour l'√©tat\n          const inputEvent = new Event('input', { bubbles: true });\n          editorRef.current.dispatchEvent(inputEvent);\n        }\n        \n        // Basculer en mode WYSIWYG apr√®s le chargement\n        onViewModeChange('wysiwyg');\n        alert('Fichier Markdown charg√© avec succ√®s !');\n      } catch (error) {\n        console.error('Erreur lors du chargement:', error);\n        alert('Erreur lors du chargement du fichier Markdown');\n      }\n    };\n    \n    reader.readAsText(file);\n    // Reset l'input pour permettre de recharger le m√™me fichier\n    event.target.value = '';\n  };\n  \n  const colors = [\n    { name: 'Noir', value: '#000000' },\n    { name: 'Bleu', value: '#3399ff' },\n    { name: 'Vert', value: '#00cc00' },\n    { name: 'Rouge', value: '#ff0000' },\n    { name: 'Orange', value: '#ff9900' },\n    { name: 'Violet', value: '#ff00ff' }\n  ];\n\n\n  const execCommand = (command, value = null) => {\n    if (viewMode !== 'wysiwyg' || !editorRef.current) return;\n    \n    editorRef.current.focus();\n    document.execCommand(command, false, value);\n    \n    // Mise √† jour imm√©diate de l'√©tat des boutons\n    const newFormat = { ...currentFormat };\n    \n    if (command === 'bold') {\n      newFormat.bold = !currentFormat.bold;\n    } else if (command === 'italic') {\n      newFormat.italic = !currentFormat.italic;\n    } else if (command === 'foreColor') {\n      newFormat.color = value;\n    }\n    \n    // Forcer la mise √† jour imm√©diate\n    setCurrentFormat(newFormat);\n    \n    // Sauvegarder l'√©tat pour les d√©buts de ligne\n    onFormatChange(newFormat);\n  };\n\n  const handleHeading = (level) => {\n    if (viewMode !== 'wysiwyg' || !editorRef.current) return;\n    \n    editorRef.current.focus();\n    \n    // Nettoyer le formatage existant avant d'appliquer le titre\n    document.execCommand('removeFormat', false, null);\n    \n    // Appliquer le titre\n    document.execCommand('formatBlock', false, level);\n    \n    onFormatChange();\n  };\n\n  const handleTextFormat = () => {\n    if (viewMode !== 'wysiwyg' || !editorRef.current) return;\n    \n    editorRef.current.focus();\n    \n    // D√©sactiver les listes d'abord si elles sont actives\n    if (document.queryCommandState('insertUnorderedList')) {\n      document.execCommand('insertUnorderedList', false, null);\n    }\n    if (document.queryCommandState('insertOrderedList')) {\n      document.execCommand('insertOrderedList', false, null);\n    }\n    \n    // Force d√©sactivation gras/italique AVANT removeFormat\n    if (document.queryCommandState('bold')) {\n      document.execCommand('bold', false, null);\n    }\n    if (document.queryCommandState('italic')) {\n      document.execCommand('italic', false, null);\n    }\n    \n    // Forcer d'abord le retour au paragraphe normal AVANT removeFormat\n    document.execCommand('formatBlock', false, 'p');\n    \n    // Puis nettoyer le formatage existant\n    document.execCommand('removeFormat', false, null);\n    \n    // √âtat explicite Normal pour mise √† jour imm√©diate\n    const newFormat = {\n      bold: false,\n      italic: false,\n      color: '#000000',\n      fontSize: '16px',\n      fontFamily: 'system-ui',\n      heading: null,\n      list: null\n    };\n    \n    setCurrentFormat(newFormat);\n    onFormatChange(newFormat);\n  };\n\n  const handleList = (type) => {\n    if (viewMode !== 'wysiwyg' || !editorRef.current) return;\n    \n    editorRef.current.focus();\n    \n    if (type === 'bullet') {\n      document.execCommand('insertUnorderedList', false, null);\n    } else if (type === 'number') {\n      document.execCommand('insertOrderedList', false, null);\n    } else if (type === 'letter') {\n      document.execCommand('insertOrderedList', false, null);\n      // Appliquer le style alphab√©tique √† la liste cr√©√©e\n      const selection = window.getSelection();\n      if (selection.rangeCount > 0) {\n        let element = selection.getRangeAt(0).commonAncestorContainer;\n        while (element && element.nodeType !== 1) {\n          element = element.parentNode;\n        }\n        while (element && element.tagName !== 'OL') {\n          element = element.parentNode;\n        }\n        if (element && element.tagName === 'OL') {\n          element.style.listStyleType = 'lower-alpha';\n        }\n      }\n    }\n    \n    onFormatChange();\n  };\n\n  const handleClearAll = () => {\n    if (viewMode !== 'wysiwyg' || !editorRef.current) return;\n    \n    editorRef.current.focus();\n    \n    // S√©lectionner tout le contenu puis le supprimer\n    document.execCommand('selectAll', false, null);\n    document.execCommand('delete', false, null);\n    \n    onFormatChange();\n  };\n\n\n  return (\n    <div className=\"border-t border-b bg-gray-50 py-3 w-full\">\n      {/* Ligne 1 - Format + Couleurs + Mode */}\n      <div className=\"flex items-center justify-start space-x-6 mb-2 w-full\">\n        {/* Format buttons */}\n        <div className=\"flex items-center space-x-2\">\n          <span className=\"text-sm font-medium\">Format:</span>\n          <button\n            onClick={() => handleTextFormat()}\n            className={`px-2 py-0.5 text-xs rounded ${\n              !currentFormat.bold && !currentFormat.italic && !currentFormat.heading && !currentFormat.list\n                ? 'bg-blue-500 text-white'\n                : 'bg-gray-200 text-gray-700 hover:bg-gray-300'\n            }`}\n            disabled={viewMode !== 'wysiwyg'}\n          >\n            Normal\n          </button>\n          <button\n            onClick={() => execCommand('bold')}\n            className={`px-2 py-0.5 text-xs rounded font-bold ${\n              currentFormat.bold\n                ? 'bg-blue-500 text-white'\n                : 'bg-gray-200 text-gray-700 hover:bg-gray-300'\n            }`}\n            disabled={viewMode !== 'wysiwyg'}\n          >\n            Gras\n          </button>\n          <button\n            onClick={() => execCommand('italic')}\n            className={`px-2 py-0.5 text-xs rounded italic ${\n              currentFormat.italic\n                ? 'bg-blue-500 text-white'\n                : 'bg-gray-200 text-gray-700 hover:bg-gray-300'\n            }`}\n            disabled={viewMode !== 'wysiwyg'}\n          >\n            Italique\n          </button>\n        </div>\n\n        {/* Colors (sans libell√©) */}\n        <div className=\"flex space-x-1\">\n          {colors.map((color, index) => (\n            <button\n              key={index}\n              onClick={() => execCommand('foreColor', color.value)}\n              className={`w-4 h-4 rounded-full border-2 ${\n                currentFormat.color === color.value\n                  ? 'border-blue-500 ring-2 ring-blue-300'\n                  : 'border-gray-300 hover:border-gray-500'\n              }`}\n              style={{ backgroundColor: color.value }}\n              disabled={viewMode !== 'wysiwyg'}\n              title={color.name}\n            />\n          ))}\n        </div>\n\n\n        {/* Mode selection menu */}\n        <div className=\"flex items-center space-x-2 mb-4\">\n          <span className=\"text-sm font-medium text-gray-700\">Mode:</span>\n          <select\n            value={viewMode}\n            onChange={(e) => onViewModeChange(e.target.value)}\n            className=\"px-3 py-1 text-sm rounded border border-gray-300 bg-white text-gray-700 hover:border-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n          >\n            <option value=\"wysiwyg\">üìù √âditeur visuel</option>\n            <option value=\"markdown\">#Ô∏è‚É£ Code Markdown</option>\n            <option value=\"html\">üåê Code HTML</option>\n          </select>\n        </div>\n\n        {/* Fichiers Markdown */}\n        <div className=\"flex items-center space-x-2 mb-4\">\n          <span className=\"text-sm font-medium text-gray-700\">Fichiers:</span>\n          <div className=\"relative group\">\n            <button\n              onClick={handleSaveMarkdown}\n              className=\"px-3 py-1 text-sm rounded bg-gray-200 text-gray-700 hover:bg-gray-300\"\n            >\n              üíæ\n            </button>\n            <div className=\"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 bg-gray-800 text-white text-sm rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none whitespace-nowrap z-50\">\n              Sauvegarder en .md\n              <div className=\"absolute top-full left-1/2 transform -translate-x-1/2 -mt-1 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-800\"></div>\n            </div>\n          </div>\n          <div className=\"relative group\">\n            <label className=\"px-3 py-1 text-sm rounded bg-gray-200 text-gray-700 hover:bg-gray-300 cursor-pointer\">\n              üìÅ\n              <input\n                type=\"file\"\n                accept=\".md,.markdown\"\n                onChange={handleLoadMarkdown}\n                className=\"hidden\"\n              />\n            </label>\n            <div className=\"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 bg-gray-800 text-white text-sm rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none whitespace-nowrap z-50\">\n              Charger un fichier .md\n              <div className=\"absolute top-full left-1/2 transform -translate-x-1/2 -mt-1 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-800\"></div>\n            </div>\n          </div>\n        </div>\n\n        {/* Bouton Param√®tres DYS */}\n        <div className=\"flex items-center space-x-2 mb-4\">\n          <div className=\"relative group\">\n            <button\n              onClick={onThemeSettingsToggle}\n              className=\"px-3 py-1 text-sm rounded bg-blue-200 text-blue-800 hover:bg-blue-300 font-medium\"\n            >\n              ‚öôÔ∏è DYS\n            </button>\n            <div className=\"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 bg-gray-800 text-white text-sm rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none whitespace-nowrap z-50\">\n              Param√®tres d'accessibilit√© DYS\n              <div className=\"absolute top-full left-1/2 transform -translate-x-1/2 -mt-1 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-800\"></div>\n            </div>\n          </div>\n        </div>\n\n      </div>\n\n      {/* Ligne 2 - Titres + Listes + √âdition */}\n      <div className=\"flex items-center justify-start space-x-6 w-full\">\n        {/* Headings */}\n        <div className=\"flex items-center space-x-2\">\n          <span className=\"text-sm font-medium\">Titres:</span>\n          <button\n            onClick={() => handleTextFormat()}\n            className={`px-2 py-0.5 text-xs rounded ${\n              !currentFormat.heading && !currentFormat.list\n                ? 'bg-blue-500 text-white'\n                : 'bg-gray-200 text-gray-700 hover:bg-gray-300'\n            }`}\n            disabled={viewMode !== 'wysiwyg'}\n          >\n            Texte\n          </button>\n          <button\n            onClick={() => handleHeading('h1')}\n            className={`px-2 py-0.5 text-xs rounded ${\n              currentFormat.heading === 'h1'\n                ? 'bg-blue-500 text-white'\n                : 'bg-gray-200 text-gray-700 hover:bg-gray-300'\n            }`}\n            disabled={viewMode !== 'wysiwyg'}\n          >\n            Titre 1\n          </button>\n          <button\n            onClick={() => handleHeading('h2')}\n            className={`px-2 py-0.5 text-xs rounded ${\n              currentFormat.heading === 'h2'\n                ? 'bg-blue-500 text-white'\n                : 'bg-gray-200 text-gray-700 hover:bg-gray-300'\n            }`}\n            disabled={viewMode !== 'wysiwyg'}\n          >\n            Titre 2\n          </button>\n          <button\n            onClick={() => handleHeading('h3')}\n            className={`px-2 py-0.5 text-xs rounded ${\n              currentFormat.heading === 'h3'\n                ? 'bg-blue-500 text-white'\n                : 'bg-gray-200 text-gray-700 hover:bg-gray-300'\n            }`}\n            disabled={viewMode !== 'wysiwyg'}\n          >\n            Titre 3\n          </button>\n        </div>\n\n        {/* Lists */}\n        <div className=\"flex items-center space-x-2\">\n          <span className=\"text-sm font-medium\">Listes:</span>\n          <button\n            onClick={() => handleList('bullet')}\n            className={`px-2 py-0.5 text-xs rounded ${\n              currentFormat.list === 'bullet'\n                ? 'bg-blue-500 text-white'\n                : 'bg-gray-200 text-gray-700 hover:bg-gray-300'\n            }`}\n            disabled={viewMode !== 'wysiwyg'}\n          >\n            ‚Ä¢ Puces\n          </button>\n          <button\n            onClick={() => handleList('number')}\n            className={`px-2 py-0.5 text-xs rounded ${\n              currentFormat.list === 'number'\n                ? 'bg-blue-500 text-white'\n                : 'bg-gray-200 text-gray-700 hover:bg-gray-300'\n            }`}\n            disabled={viewMode !== 'wysiwyg'}\n          >\n            1. Num√©ros\n          </button>\n          <button\n            onClick={() => handleList('letter')}\n            className={`px-2 py-0.5 text-xs rounded ${\n              currentFormat.list === 'letter'\n                ? 'bg-blue-500 text-white'\n                : 'bg-gray-200 text-gray-700 hover:bg-gray-300'\n            }`}\n            disabled={viewMode !== 'wysiwyg'}\n          >\n            a. Lettres\n          </button>\n        </div>\n\n        {/* Boutons Undo/Redo + Copier */}\n        <div className=\"flex items-center space-x-2\">\n          <span className=\"text-sm font-medium text-gray-700\">√âdition:</span>\n          <div className=\"relative group\">\n            <button\n              onClick={() => document.execCommand('undo', false, null)}\n              className=\"px-2 py-0.5 text-xs rounded bg-gray-200 text-gray-700 hover:bg-gray-300\"\n              disabled={viewMode !== 'wysiwyg'}\n            >\n              ‚Ü∂\n            </button>\n            <div className=\"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 bg-gray-800 text-white text-sm rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none whitespace-nowrap z-50\">\n              Annuler (Ctrl+Z)\n              <div className=\"absolute top-full left-1/2 transform -translate-x-1/2 -mt-1 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-800\"></div>\n            </div>\n          </div>\n          <div className=\"relative group\">\n            <button\n              onClick={() => document.execCommand('redo', false, null)}\n              className=\"px-2 py-0.5 text-xs rounded bg-gray-200 text-gray-700 hover:bg-gray-300\"\n              disabled={viewMode !== 'wysiwyg'}\n            >\n              ‚Ü∑\n            </button>\n            <div className=\"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 bg-gray-800 text-white text-sm rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none whitespace-nowrap z-50\">\n              R√©tablir (Ctrl+Y)\n              <div className=\"absolute top-full left-1/2 transform -translate-x-1/2 -mt-1 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-800\"></div>\n            </div>\n          </div>\n          <div className=\"relative group\">\n            <button\n              onClick={handleClearAll}\n              className=\"px-2 py-0.5 text-xs rounded bg-gray-200 text-gray-700 hover:bg-gray-300\"\n              disabled={viewMode !== 'wysiwyg'}\n            >\n              üßΩ\n            </button>\n            <div className=\"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 bg-gray-800 text-white text-sm rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none whitespace-nowrap z-50\">\n              Effacer tout\n              <div className=\"absolute top-full left-1/2 transform -translate-x-1/2 -mt-1 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-800\"></div>\n            </div>\n          </div>\n          <div className=\"relative group\">\n            <button\n              onClick={handleCopyMarkdown}\n              className=\"px-2 py-0.5 text-xs rounded bg-gray-200 text-gray-700 hover:bg-gray-300\"\n            >\n              üìã\n            </button>\n            <div className=\"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 bg-gray-800 text-white text-sm rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none whitespace-nowrap z-50\">\n              Copier en Markdown\n              <div className=\"absolute top-full left-1/2 transform -translate-x-1/2 -mt-1 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-800\"></div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Toolbar;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}