{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nexport const useThemeSettings = () => {\n  _s();\n  // Valeurs par défaut du thème\n  const defaultSettings = {\n    backgroundColor: '#fffef7',\n    // Ivoire\n    textColor: '#1e3a8a',\n    // Bleu marine\n    fontFamily: 'Verdana',\n    // Police recommandée pour l'accessibilité\n    fontSize: 14,\n    // Taille minimale recommandée\n    lineHeight: 1.5 // Interlignage optimal pour la lisibilité\n  };\n\n  // Options disponibles\n  const backgroundOptions = [{\n    name: 'Ivoire',\n    value: '#fffef7'\n  }, {\n    name: 'Bleu pâle',\n    value: '#f0f7ff'\n  }, {\n    name: 'Vert menthe',\n    value: '#f0fdf4'\n  }, {\n    name: 'Pêche',\n    value: '#fefbf3'\n  }, {\n    name: 'Gris très pâle',\n    value: '#fafafa'\n  }, {\n    name: 'Noir doux',\n    value: '#1a1a1a'\n  }, {\n    name: 'Gris anthracite',\n    value: '#2d3748'\n  }, {\n    name: 'Bleu nuit',\n    value: '#1a202c'\n  }];\n  const textOptions = [{\n    name: 'Bleu marine',\n    value: '#1e3a8a'\n  }, {\n    name: 'Gris foncé',\n    value: '#374151'\n  }, {\n    name: 'Brun foncé',\n    value: '#92400e'\n  }, {\n    name: 'Blanc cassé',\n    value: '#f7fafc'\n  }, {\n    name: 'Gris clair',\n    value: '#e2e8f0'\n  }, {\n    name: 'Beige clair',\n    value: '#faf5f0'\n  }];\n  const fontOptions = [{\n    name: 'Standard (Système)',\n    value: 'system'\n  }, {\n    name: 'Arial',\n    value: 'Arial'\n  }, {\n    name: 'Verdana',\n    value: 'Verdana'\n  }, {\n    name: 'Tahoma',\n    value: 'Tahoma'\n  }, {\n    name: 'Calibri',\n    value: 'Calibri'\n  }, {\n    name: 'Helvetica',\n    value: 'Helvetica'\n  }, {\n    name: 'OpenDyslexic',\n    value: 'OpenDyslexic'\n  }, {\n    name: 'Lexend',\n    value: 'Lexend'\n  }];\n\n  // État des paramètres\n  const [settings, setSettings] = useState(() => {\n    const saved = localStorage.getItem('dysThemeSettings');\n    return saved ? JSON.parse(saved) : defaultSettings;\n  });\n  const [isSettingsOpen, setIsSettingsOpen] = useState(false);\n\n  // Fonction de validation des combinaisons couleur\n  const isValidCombination = (bgColor, textColor) => {\n    // Définition des couleurs sombres et claires\n    const darkBackgrounds = ['#1a1a1a', '#2d3748', '#1a202c'];\n    const lightBackgrounds = ['#fffef7', '#f0f7ff', '#f0fdf4', '#fefbf3', '#fafafa'];\n    const darkTexts = ['#1e3a8a', '#374151', '#92400e'];\n    const lightTexts = ['#f7fafc', '#e2e8f0', '#faf5f0'];\n    const isBgDark = darkBackgrounds.includes(bgColor);\n    const isBgLight = lightBackgrounds.includes(bgColor);\n    const isTextDark = darkTexts.includes(textColor);\n    const isTextLight = lightTexts.includes(textColor);\n\n    // Interdire les combinaisons illisibles\n    if (isBgDark && isTextDark || isBgLight && isTextLight) {\n      return false;\n    }\n    return true;\n  };\n\n  // Sauvegarde automatique\n  useEffect(() => {\n    localStorage.setItem('dysThemeSettings', JSON.stringify(settings));\n    applyThemeToDocument();\n  }, [settings]);\n\n  // Application du thème au document\n  const applyThemeToDocument = () => {\n    const root = document.documentElement;\n\n    // Variables CSS personnalisées\n    root.style.setProperty('--dys-bg-color', settings.backgroundColor);\n    root.style.setProperty('--dys-text-color', settings.textColor);\n    root.style.setProperty('--dys-font-size', `${settings.fontSize}px`);\n    root.style.setProperty('--dys-line-height', settings.lineHeight.toString());\n\n    // Gestion des polices\n    let fontStack = '';\n    if (settings.fontFamily === 'system') {\n      fontStack = `-apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif`;\n    } else if (settings.fontFamily === 'OpenDyslexic' || settings.fontFamily === 'Lexend') {\n      fontStack = `'${settings.fontFamily}', Arial, Verdana, sans-serif`;\n    } else {\n      fontStack = `'${settings.fontFamily}', Arial, sans-serif`;\n    }\n    root.style.setProperty('--dys-font-family', fontStack);\n  };\n\n  // Fonctions de mise à jour\n  const updateSetting = (key, value) => {\n    setSettings(prev => ({\n      ...prev,\n      [key]: value\n    }));\n  };\n  const resetToDefaults = () => {\n    setSettings(defaultSettings);\n  };\n  const toggleSettings = () => {\n    setIsSettingsOpen(!isSettingsOpen);\n  };\n  return {\n    settings,\n    backgroundOptions,\n    textOptions,\n    fontOptions,\n    isSettingsOpen,\n    updateSetting,\n    resetToDefaults,\n    toggleSettings\n  };\n};\n_s(useThemeSettings, \"OCRH868VJnTBkn7YJICKSZzfp+4=\");","map":{"version":3,"names":["useState","useEffect","useThemeSettings","_s","defaultSettings","backgroundColor","textColor","fontFamily","fontSize","lineHeight","backgroundOptions","name","value","textOptions","fontOptions","settings","setSettings","saved","localStorage","getItem","JSON","parse","isSettingsOpen","setIsSettingsOpen","isValidCombination","bgColor","darkBackgrounds","lightBackgrounds","darkTexts","lightTexts","isBgDark","includes","isBgLight","isTextDark","isTextLight","setItem","stringify","applyThemeToDocument","root","document","documentElement","style","setProperty","toString","fontStack","updateSetting","key","prev","resetToDefaults","toggleSettings"],"sources":["C:/Users/JEAN-NOELLEFEBVRE-SA/CascadeProjects/editor/src/hooks/useThemeSettings.js"],"sourcesContent":["import { useState, useEffect } from 'react';\n\nexport const useThemeSettings = () => {\n  // Valeurs par défaut du thème\n  const defaultSettings = {\n    backgroundColor: '#fffef7', // Ivoire\n    textColor: '#1e3a8a',       // Bleu marine\n    fontFamily: 'Verdana',      // Police recommandée pour l'accessibilité\n    fontSize: 14,               // Taille minimale recommandée\n    lineHeight: 1.5             // Interlignage optimal pour la lisibilité\n  };\n\n  // Options disponibles\n  const backgroundOptions = [\n    { name: 'Ivoire', value: '#fffef7' },\n    { name: 'Bleu pâle', value: '#f0f7ff' },\n    { name: 'Vert menthe', value: '#f0fdf4' },\n    { name: 'Pêche', value: '#fefbf3' },\n    { name: 'Gris très pâle', value: '#fafafa' },\n    { name: 'Noir doux', value: '#1a1a1a' },\n    { name: 'Gris anthracite', value: '#2d3748' },\n    { name: 'Bleu nuit', value: '#1a202c' }\n  ];\n\n  const textOptions = [\n    { name: 'Bleu marine', value: '#1e3a8a' },\n    { name: 'Gris foncé', value: '#374151' },\n    { name: 'Brun foncé', value: '#92400e' },\n    { name: 'Blanc cassé', value: '#f7fafc' },\n    { name: 'Gris clair', value: '#e2e8f0' },\n    { name: 'Beige clair', value: '#faf5f0' }\n  ];\n\n  const fontOptions = [\n    { name: 'Standard (Système)', value: 'system' },\n    { name: 'Arial', value: 'Arial' },\n    { name: 'Verdana', value: 'Verdana' },\n    { name: 'Tahoma', value: 'Tahoma' },\n    { name: 'Calibri', value: 'Calibri' },\n    { name: 'Helvetica', value: 'Helvetica' },\n    { name: 'OpenDyslexic', value: 'OpenDyslexic' },\n    { name: 'Lexend', value: 'Lexend' }\n  ];\n\n  // État des paramètres\n  const [settings, setSettings] = useState(() => {\n    const saved = localStorage.getItem('dysThemeSettings');\n    return saved ? JSON.parse(saved) : defaultSettings;\n  });\n\n  const [isSettingsOpen, setIsSettingsOpen] = useState(false);\n\n  // Fonction de validation des combinaisons couleur\n  const isValidCombination = (bgColor, textColor) => {\n    // Définition des couleurs sombres et claires\n    const darkBackgrounds = ['#1a1a1a', '#2d3748', '#1a202c'];\n    const lightBackgrounds = ['#fffef7', '#f0f7ff', '#f0fdf4', '#fefbf3', '#fafafa'];\n    \n    const darkTexts = ['#1e3a8a', '#374151', '#92400e'];\n    const lightTexts = ['#f7fafc', '#e2e8f0', '#faf5f0'];\n    \n    const isBgDark = darkBackgrounds.includes(bgColor);\n    const isBgLight = lightBackgrounds.includes(bgColor);\n    const isTextDark = darkTexts.includes(textColor);\n    const isTextLight = lightTexts.includes(textColor);\n    \n    // Interdire les combinaisons illisibles\n    if ((isBgDark && isTextDark) || (isBgLight && isTextLight)) {\n      return false;\n    }\n    \n    return true;\n  };\n\n  // Sauvegarde automatique\n  useEffect(() => {\n    localStorage.setItem('dysThemeSettings', JSON.stringify(settings));\n    applyThemeToDocument();\n  }, [settings]);\n\n  // Application du thème au document\n  const applyThemeToDocument = () => {\n    const root = document.documentElement;\n    \n    // Variables CSS personnalisées\n    root.style.setProperty('--dys-bg-color', settings.backgroundColor);\n    root.style.setProperty('--dys-text-color', settings.textColor);\n    root.style.setProperty('--dys-font-size', `${settings.fontSize}px`);\n    root.style.setProperty('--dys-line-height', settings.lineHeight.toString());\n    \n    // Gestion des polices\n    let fontStack = '';\n    if (settings.fontFamily === 'system') {\n      fontStack = `-apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif`;\n    } else if (settings.fontFamily === 'OpenDyslexic' || settings.fontFamily === 'Lexend') {\n      fontStack = `'${settings.fontFamily}', Arial, Verdana, sans-serif`;\n    } else {\n      fontStack = `'${settings.fontFamily}', Arial, sans-serif`;\n    }\n    root.style.setProperty('--dys-font-family', fontStack);\n  };\n\n  // Fonctions de mise à jour\n  const updateSetting = (key, value) => {\n    setSettings(prev => ({ ...prev, [key]: value }));\n  };\n\n  const resetToDefaults = () => {\n    setSettings(defaultSettings);\n  };\n\n  const toggleSettings = () => {\n    setIsSettingsOpen(!isSettingsOpen);\n  };\n\n  return {\n    settings,\n    backgroundOptions,\n    textOptions,\n    fontOptions,\n    isSettingsOpen,\n    updateSetting,\n    resetToDefaults,\n    toggleSettings\n  };\n};\n"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAE3C,OAAO,MAAMC,gBAAgB,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACpC;EACA,MAAMC,eAAe,GAAG;IACtBC,eAAe,EAAE,SAAS;IAAE;IAC5BC,SAAS,EAAE,SAAS;IAAQ;IAC5BC,UAAU,EAAE,SAAS;IAAO;IAC5BC,QAAQ,EAAE,EAAE;IAAgB;IAC5BC,UAAU,EAAE,GAAG,CAAa;EAC9B,CAAC;;EAED;EACA,MAAMC,iBAAiB,GAAG,CACxB;IAAEC,IAAI,EAAE,QAAQ;IAAEC,KAAK,EAAE;EAAU,CAAC,EACpC;IAAED,IAAI,EAAE,WAAW;IAAEC,KAAK,EAAE;EAAU,CAAC,EACvC;IAAED,IAAI,EAAE,aAAa;IAAEC,KAAK,EAAE;EAAU,CAAC,EACzC;IAAED,IAAI,EAAE,OAAO;IAAEC,KAAK,EAAE;EAAU,CAAC,EACnC;IAAED,IAAI,EAAE,gBAAgB;IAAEC,KAAK,EAAE;EAAU,CAAC,EAC5C;IAAED,IAAI,EAAE,WAAW;IAAEC,KAAK,EAAE;EAAU,CAAC,EACvC;IAAED,IAAI,EAAE,iBAAiB;IAAEC,KAAK,EAAE;EAAU,CAAC,EAC7C;IAAED,IAAI,EAAE,WAAW;IAAEC,KAAK,EAAE;EAAU,CAAC,CACxC;EAED,MAAMC,WAAW,GAAG,CAClB;IAAEF,IAAI,EAAE,aAAa;IAAEC,KAAK,EAAE;EAAU,CAAC,EACzC;IAAED,IAAI,EAAE,YAAY;IAAEC,KAAK,EAAE;EAAU,CAAC,EACxC;IAAED,IAAI,EAAE,YAAY;IAAEC,KAAK,EAAE;EAAU,CAAC,EACxC;IAAED,IAAI,EAAE,aAAa;IAAEC,KAAK,EAAE;EAAU,CAAC,EACzC;IAAED,IAAI,EAAE,YAAY;IAAEC,KAAK,EAAE;EAAU,CAAC,EACxC;IAAED,IAAI,EAAE,aAAa;IAAEC,KAAK,EAAE;EAAU,CAAC,CAC1C;EAED,MAAME,WAAW,GAAG,CAClB;IAAEH,IAAI,EAAE,oBAAoB;IAAEC,KAAK,EAAE;EAAS,CAAC,EAC/C;IAAED,IAAI,EAAE,OAAO;IAAEC,KAAK,EAAE;EAAQ,CAAC,EACjC;IAAED,IAAI,EAAE,SAAS;IAAEC,KAAK,EAAE;EAAU,CAAC,EACrC;IAAED,IAAI,EAAE,QAAQ;IAAEC,KAAK,EAAE;EAAS,CAAC,EACnC;IAAED,IAAI,EAAE,SAAS;IAAEC,KAAK,EAAE;EAAU,CAAC,EACrC;IAAED,IAAI,EAAE,WAAW;IAAEC,KAAK,EAAE;EAAY,CAAC,EACzC;IAAED,IAAI,EAAE,cAAc;IAAEC,KAAK,EAAE;EAAe,CAAC,EAC/C;IAAED,IAAI,EAAE,QAAQ;IAAEC,KAAK,EAAE;EAAS,CAAC,CACpC;;EAED;EACA,MAAM,CAACG,QAAQ,EAAEC,WAAW,CAAC,GAAGhB,QAAQ,CAAC,MAAM;IAC7C,MAAMiB,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,kBAAkB,CAAC;IACtD,OAAOF,KAAK,GAAGG,IAAI,CAACC,KAAK,CAACJ,KAAK,CAAC,GAAGb,eAAe;EACpD,CAAC,CAAC;EAEF,MAAM,CAACkB,cAAc,EAAEC,iBAAiB,CAAC,GAAGvB,QAAQ,CAAC,KAAK,CAAC;;EAE3D;EACA,MAAMwB,kBAAkB,GAAGA,CAACC,OAAO,EAAEnB,SAAS,KAAK;IACjD;IACA,MAAMoB,eAAe,GAAG,CAAC,SAAS,EAAE,SAAS,EAAE,SAAS,CAAC;IACzD,MAAMC,gBAAgB,GAAG,CAAC,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,CAAC;IAEhF,MAAMC,SAAS,GAAG,CAAC,SAAS,EAAE,SAAS,EAAE,SAAS,CAAC;IACnD,MAAMC,UAAU,GAAG,CAAC,SAAS,EAAE,SAAS,EAAE,SAAS,CAAC;IAEpD,MAAMC,QAAQ,GAAGJ,eAAe,CAACK,QAAQ,CAACN,OAAO,CAAC;IAClD,MAAMO,SAAS,GAAGL,gBAAgB,CAACI,QAAQ,CAACN,OAAO,CAAC;IACpD,MAAMQ,UAAU,GAAGL,SAAS,CAACG,QAAQ,CAACzB,SAAS,CAAC;IAChD,MAAM4B,WAAW,GAAGL,UAAU,CAACE,QAAQ,CAACzB,SAAS,CAAC;;IAElD;IACA,IAAKwB,QAAQ,IAAIG,UAAU,IAAMD,SAAS,IAAIE,WAAY,EAAE;MAC1D,OAAO,KAAK;IACd;IAEA,OAAO,IAAI;EACb,CAAC;;EAED;EACAjC,SAAS,CAAC,MAAM;IACdiB,YAAY,CAACiB,OAAO,CAAC,kBAAkB,EAAEf,IAAI,CAACgB,SAAS,CAACrB,QAAQ,CAAC,CAAC;IAClEsB,oBAAoB,CAAC,CAAC;EACxB,CAAC,EAAE,CAACtB,QAAQ,CAAC,CAAC;;EAEd;EACA,MAAMsB,oBAAoB,GAAGA,CAAA,KAAM;IACjC,MAAMC,IAAI,GAAGC,QAAQ,CAACC,eAAe;;IAErC;IACAF,IAAI,CAACG,KAAK,CAACC,WAAW,CAAC,gBAAgB,EAAE3B,QAAQ,CAACV,eAAe,CAAC;IAClEiC,IAAI,CAACG,KAAK,CAACC,WAAW,CAAC,kBAAkB,EAAE3B,QAAQ,CAACT,SAAS,CAAC;IAC9DgC,IAAI,CAACG,KAAK,CAACC,WAAW,CAAC,iBAAiB,EAAE,GAAG3B,QAAQ,CAACP,QAAQ,IAAI,CAAC;IACnE8B,IAAI,CAACG,KAAK,CAACC,WAAW,CAAC,mBAAmB,EAAE3B,QAAQ,CAACN,UAAU,CAACkC,QAAQ,CAAC,CAAC,CAAC;;IAE3E;IACA,IAAIC,SAAS,GAAG,EAAE;IAClB,IAAI7B,QAAQ,CAACR,UAAU,KAAK,QAAQ,EAAE;MACpCqC,SAAS,GAAG,mJAAmJ;IACjK,CAAC,MAAM,IAAI7B,QAAQ,CAACR,UAAU,KAAK,cAAc,IAAIQ,QAAQ,CAACR,UAAU,KAAK,QAAQ,EAAE;MACrFqC,SAAS,GAAG,IAAI7B,QAAQ,CAACR,UAAU,+BAA+B;IACpE,CAAC,MAAM;MACLqC,SAAS,GAAG,IAAI7B,QAAQ,CAACR,UAAU,sBAAsB;IAC3D;IACA+B,IAAI,CAACG,KAAK,CAACC,WAAW,CAAC,mBAAmB,EAAEE,SAAS,CAAC;EACxD,CAAC;;EAED;EACA,MAAMC,aAAa,GAAGA,CAACC,GAAG,EAAElC,KAAK,KAAK;IACpCI,WAAW,CAAC+B,IAAI,KAAK;MAAE,GAAGA,IAAI;MAAE,CAACD,GAAG,GAAGlC;IAAM,CAAC,CAAC,CAAC;EAClD,CAAC;EAED,MAAMoC,eAAe,GAAGA,CAAA,KAAM;IAC5BhC,WAAW,CAACZ,eAAe,CAAC;EAC9B,CAAC;EAED,MAAM6C,cAAc,GAAGA,CAAA,KAAM;IAC3B1B,iBAAiB,CAAC,CAACD,cAAc,CAAC;EACpC,CAAC;EAED,OAAO;IACLP,QAAQ;IACRL,iBAAiB;IACjBG,WAAW;IACXC,WAAW;IACXQ,cAAc;IACduB,aAAa;IACbG,eAAe;IACfC;EACF,CAAC;AACH,CAAC;AAAC9C,EAAA,CA3HWD,gBAAgB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}