{"ast":null,"code":"import React,{useEffect}from'react';import{useEditor}from'./hooks/useEditor';import{useEelBridge}from'./hooks/useEelBridge';import{useThemeSettings}from'./hooks/useThemeSettings';import{useMathJax}from'./hooks/useMathJax';import Toolbar from'./components/Toolbar';import Editor from'./components/Editor';import StatusBar from'./components/StatusBar';import ThemeSettings from'./components/ThemeSettings';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const App=()=>{const{content,setContent,viewMode,changeViewMode,currentFormat,setCurrentFormat,editorRef,handleInput,updateCurrentFormat,saveAppliedFormat}=useEditor();// Hook pour paramètres DYS\nconst{settings:themeSettings,isSettingsOpen:isThemeSettingsOpen,toggleSettings:toggleThemeSettings,backgroundOptions,textOptions,fontOptions,updateSetting,resetToDefaults}=useThemeSettings();// ⚡ Intégration MathJax en local\nconst{renderMath}=useMathJax();// ⚡ Intégration Eel pour support desktop\nuseEelBridge(content,setContent,viewMode);// Sauvegarde automatique du contenu dans localStorage\nuseEffect(()=>{localStorage.setItem('editor-content',content);},[content]);// Sauvegarde du mode d'édition\nuseEffect(()=>{localStorage.setItem('editor-mode',JSON.stringify(viewMode));},[viewMode]);return/*#__PURE__*/_jsxs(\"div\",{className:\"h-screen bg-white w-full relative\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"editor-container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"editor-scroll\",children:/*#__PURE__*/_jsx(Editor,{viewMode:viewMode,content:content,editorRef:editorRef,onInput:handleInput,onSelectionChange:updateCurrentFormat,currentFormat:currentFormat})})}),/*#__PURE__*/_jsx(\"div\",{className:\"fixed bottom-8 left-0 right-0 bg-gray-50 border-t border-gray-200 px-5 py-2 z-10\",children:/*#__PURE__*/_jsx(Toolbar,{currentFormat:currentFormat,setCurrentFormat:setCurrentFormat,editorRef:editorRef,viewMode:viewMode,onViewModeChange:changeViewMode,onFormatChange:saveAppliedFormat,onThemeSettingsToggle:toggleThemeSettings})}),/*#__PURE__*/_jsx(\"div\",{className:\"fixed bottom-0 left-0 right-0 bg-gray-100 border-t border-gray-300 px-5 py-1 z-10\",children:/*#__PURE__*/_jsx(StatusBar,{currentFormat:currentFormat,content:content,dysSettings:themeSettings})}),/*#__PURE__*/_jsx(ThemeSettings,{settings:themeSettings,isSettingsOpen:isThemeSettingsOpen,toggleSettings:toggleThemeSettings,backgroundOptions:backgroundOptions,textOptions:textOptions,fontOptions:fontOptions,updateSetting:updateSetting,resetToDefaults:resetToDefaults})]});};export default App;","map":{"version":3,"names":["React","useEffect","useEditor","useEelBridge","useThemeSettings","useMathJax","Toolbar","Editor","StatusBar","ThemeSettings","jsx","_jsx","jsxs","_jsxs","App","content","setContent","viewMode","changeViewMode","currentFormat","setCurrentFormat","editorRef","handleInput","updateCurrentFormat","saveAppliedFormat","settings","themeSettings","isSettingsOpen","isThemeSettingsOpen","toggleSettings","toggleThemeSettings","backgroundOptions","textOptions","fontOptions","updateSetting","resetToDefaults","renderMath","localStorage","setItem","JSON","stringify","className","children","onInput","onSelectionChange","onViewModeChange","onFormatChange","onThemeSettingsToggle","dysSettings"],"sources":["C:/Users/JEAN-NOELLEFEBVRE-SA/CascadeProjects/editor/src/App.js"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { useEditor } from './hooks/useEditor';\nimport { useEelBridge } from './hooks/useEelBridge';\nimport { useThemeSettings } from './hooks/useThemeSettings';\nimport { useMathJax } from './hooks/useMathJax';\nimport Toolbar from './components/Toolbar';\nimport Editor from './components/Editor';\nimport StatusBar from './components/StatusBar';\nimport ThemeSettings from './components/ThemeSettings';\n\nconst App = () => {\n  const {\n    content,\n    setContent,\n    viewMode,\n    changeViewMode,\n    currentFormat,\n    setCurrentFormat,\n    editorRef,\n    handleInput,\n    updateCurrentFormat,\n    saveAppliedFormat\n  } = useEditor();\n\n  // Hook pour paramètres DYS\n  const { \n    settings: themeSettings, \n    isSettingsOpen: isThemeSettingsOpen, \n    toggleSettings: toggleThemeSettings,\n    backgroundOptions,\n    textOptions,\n    fontOptions,\n    updateSetting,\n    resetToDefaults\n  } = useThemeSettings();\n\n  // ⚡ Intégration MathJax en local\n  const { renderMath } = useMathJax();\n\n  // ⚡ Intégration Eel pour support desktop\n  useEelBridge(content, setContent, viewMode);\n\n\n  // Sauvegarde automatique du contenu dans localStorage\n  useEffect(() => {\n    localStorage.setItem('editor-content', content);\n  }, [content]);\n\n  // Sauvegarde du mode d'édition\n  useEffect(() => {\n    localStorage.setItem('editor-mode', JSON.stringify(viewMode));\n  }, [viewMode]);\n\n  return (\n    <div className=\"h-screen bg-white w-full relative\">\n      {/* Zone d'édition principale avec scroll indépendant */}\n      <div className=\"editor-container\">\n        <div className=\"editor-scroll\">\n          <Editor \n            viewMode={viewMode}\n            content={content}\n            editorRef={editorRef}\n            onInput={handleInput}\n            onSelectionChange={updateCurrentFormat}\n            currentFormat={currentFormat}\n          />\n        </div>\n      </div>\n\n      {/* Toolbar fixée en bas */}\n      <div className=\"fixed bottom-8 left-0 right-0 bg-gray-50 border-t border-gray-200 px-5 py-2 z-10\">\n        <Toolbar \n          currentFormat={currentFormat}\n          setCurrentFormat={setCurrentFormat}\n          editorRef={editorRef}\n          viewMode={viewMode}\n          onViewModeChange={changeViewMode}\n          onFormatChange={saveAppliedFormat}\n          onThemeSettingsToggle={toggleThemeSettings}\n        />\n      </div>\n\n      {/* StatusBar tout en bas */}\n      <div className=\"fixed bottom-0 left-0 right-0 bg-gray-100 border-t border-gray-300 px-5 py-1 z-10\">\n        <StatusBar \n          currentFormat={currentFormat}\n          content={content}\n          dysSettings={themeSettings}\n        />\n      </div>\n\n      {/* Modal ThemeSettings */}\n      <ThemeSettings \n        settings={themeSettings}\n        isSettingsOpen={isThemeSettingsOpen}\n        toggleSettings={toggleThemeSettings}\n        backgroundOptions={backgroundOptions}\n        textOptions={textOptions}\n        fontOptions={fontOptions}\n        updateSetting={updateSetting}\n        resetToDefaults={resetToDefaults}\n      />\n    </div>\n  );\n};\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}